define(["domReady","v"],function(e,t){function a(){x.domain([0,this.collection.max]);var e=0;left=0;var t=d3.select(this.el).style({top:e,left:left}),n=t.append("svg").attr({width:r+s.r+s.l+margin2.r+margin2.l,height:i+s.t+s.b+margin2.t+margin2.b}),a=n.append("g").attr("transform","translate("+s.l+","+s.t+")");a.append("path").attr("class","box").attr("d","M"+ -margin2.l+" "+ -margin2.t+"H"+(r+margin2.r)+" V"+i+" H"+(r/2+arrow)+" l"+ -arrow+" "+arrow+" l"+ -arrow+" "+ -arrow+" H"+ -margin2.l+" Z"),a.append("text").attr({"class":"text-steps",x:r/2,y:i/2-11,dy:".35em"}).text(100),a.append("text").attr({"class":"text-string",x:r/2,y:i/2+13,dy:".35em"}).style("fill","hsl(0,0%,60%)").text("teste"),a.selectAll(".color").data(u).enter().append("rect").attr({"class":"color",x:function(e,t){return xB(t)},y:-margin2.t+6,width:xB.rangeBand(),height:10+margin2.t}).style({stroke:"none",fill:function(e,t){return o(t)}}),a.append("path").attr("class","arrow arrow2").attr("d","M0 0 l-9 -9 h18 Z").attr("transform","translate(2,2)"),a.append("path").attr("class","arrow").attr("d","M0 0 l-9 -9 h18 Z")}function f(e,t,n){x.domain([0,this.collection.max]);var o=this.container.getBoundingClientRect();rectB=t.getBoundingClientRect();var u=rectB.top-o.top-i-s.t-s.b+"px";left=rectB.width/2+rectB.left-o.left-(r+s.l+s.r)/2+"px";var a=d3.select(this.el).style({top:u,left:left});a.select(".text-steps").text(n.steps.round().format()),a.select(".text-string").text(n.text),a.selectAll(".arrow").attr("d","M"+x(n.steps)+" 0 l-9 -9 h18 Z")}var n=Backbone.View.extend({tagName:"div",className:"l-tooltip",initialize:a,render:f}),r=80,i=80,s={t:15,l:15,r:15,b:15};margin2={t:10,l:5,r:5,b:10},arrow=10;var o=t.color.copy().domain([0,9]),u=d3.range(10).map(function(e){return o(e)});return xB=d3.scale.ordinal().domain(d3.range(10)).rangeBands([0,r],0,0),x=d3.scale.linear().range([3,r-3]),n});